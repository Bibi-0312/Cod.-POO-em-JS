<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de biblioteca - livro</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Bem-vindo ao Sistema de Biblioteca</h1>
    <p>Esta é a página inicial do sistema de biblioteca.</p>
    <h2> Livros</h2>
    <div id="livros-container">
        <!-- Os livros serão carregados aqui dinamicamente -->
         <table class="tabela-livros">
            <thead>
                <tr>
                    <th>Título</th>
                    <th>Autor</th>
                    <th>Ano de Publicação</th>
                    <th>Disponibilidade</th>
                    <th>Emprestar</th>
                </tr>
            </thead>
            <tbody id="livros-tbody">
                <!-- Linhas de livros serão inseridas aqui -->
            </tbody>
            </table>
     </div>
          <script src="livro.js"></script>
</body>
</html>

.tabela-livros{
    width: 80%;
    border-collapse: collapse;
    margin: 0 auto;
    margin-bottom: 20px;
    align-items: center;

}
.tabela-livros th{
    background-color: #6bc63e;
    font-weight: bold;
    color:#FFFFFF;
}
.tabela-livros th, .tabela-livros td{
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
}
.tabela-livros tr:nth-child(even){
    background-color: #f2f2f2;
}
.tabela-livros tr:hover{
    background-color: #ddd;
}
.tabela-livros button{
    background-color: #6bc63e;
    color: white;
    border: none;
    padding: 5px 10px;
    cursor: pointer;
    /* centralizar o botão */
    display: block;
    margin: 0 auto;
    &:disabled{
        background-color: #ccc;
        cursor: not-allowed;
    } 
}

function carregarLivrosTabela(){
    const livros = [
        new Livro("Dom Casmurro", "Machado de Assis", 1899),
        new Livro("O Alienista", "Machado de Assis", 1900),
        new Livro("Os Sertões", "Euclides da Cunha", 1938),
        new Livro("Iracema", "José de Alencar", 1910)
    ];
    
    livros[3].emprestar();
    let tableLivros = document.getElementById("livros-tbody");
    for (let livro of livros) {
        let row = document.createElement("tr");
        let titulo = document.createElement("td");
        titulo.textContent = livro.titulo;
        let autor = document.createElement("td");
        autor.textContent = livro.autor;
        let ano = document.createElement("td");
        ano.textContent = livro.anoPublicacao;
        let disponivel = document.createElement("td");
        disponivel.textContent = livro.estaDisponivel() ? "Sim" : "Não";
        let tdEmprestar = document.createElement("td");
    
        let btnEmprestar = document.createElement("button");
        btnEmprestar.textContent = "Emprestar";
        btnEmprestar.disabled = !livro.estaDisponivel();
        btnEmprestar.addEventListener("click", ()=> {
            livro.emprestar();
            disponivel.textContent = "Não";
            btnEmprestar.disabled = true;
        });
        tdEmprestar.appendChild(btnEmprestar);
        row.appendChild(titulo);
        row.appendChild(autor);
        row.appendChild(ano);
        row.appendChild(disponivel);
        row.appendChild(tdEmprestar);
        tableLivros.appendChild(row);   
    }
}
document.addEventListener("DOMContentLoaded", carregarLivrosTabela);
